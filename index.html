<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="css/bootstrapv5.3.1.css" rel="stylesheet" />
  <link href="css/bootstrapv3.1.4.css" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/toaster.css" rel="stylesheet" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

  <style>
    .cancel-icon i {
      cursor: pointer;
      font-size: 28px;
      color: #fff;
      float: right;
    }

    .circleWrapper {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .circleWrapper button {
      width: 100%;
    }

    .circleWrapper img {
      width: 50px;
    }
  </style>
</head>

<body>
  <div class="backCls" style="background-size: cover">
    <!-- <div class="topBarCls"> -->
    <div class="w-100 mx-0" style="display: flex;justify-content: space-between;padding: 10px;position: absolute;top: 0px;left: 0;z-index: 999;">
      <div class="circleWrapper">
        <i class="fa fa-info-circle" style="color: #fff;font-size: 55px !important;cursor: pointer;width: 50px;height: 50px;display: flex;align-items: center;justify-content: center;line-height: 1;"
          onclick="myGreeting1()" aria-hidden="true"></i>
      </div>
      <div class="circleWrapper">
        <img onclick="aboutPage()" src="images/scanGoodsicon.png" alt="images/scanGoodsicon.png">
      </div>
      <div class="circleWrapper">
        <select id="selectLanguageId" onchange="changeLanguage()" style="border-radius: 30px;height: 50px;z-index: 1;width: 50px;border: none;padding: 3px;"></select>
      </div>
    </div>

    <div class="" style="font-weight: 700;">
      <div>
        <img class="vectorImgCls1" src="images/Vector1.png" />
        <img class="vectorImgCls2" src="images/Vector2.png" />
        <div class="card centerParaCLs-wrapper" id="viewAfterSeconds">
          <div class="centerParaCLs-box">
            <span class="cancel-icon" onclick="closePop()">
              <i class="fa fa-times-circle" aria-hidden="true"></i>
            </span>
            <p class="centerParaCLs">Can you find the mosiac here?</p>
          </div>
        </div>
        <img class="vectorImgCls3" src="images/Vector3.png" />
        <img class="vectorImgCls4" src="images/Vector4.png" />
      </div>
    </div>

    <footer>
      <div class="footer-button-wrapper">
        <button onclick="map()" id="map-btn" class="footer-btn">
          <span class="button-icon">
            <span class="material-symbols-outlined">
              map
            </span>
          </span>
          <span class="button-text mapButton">
            Map
          </span>
        </button>
        <button onclick="checkLocation()" class="footer-btn">
          <span class="button-text scanButton">
            Scan
          </span>
        </button>
        <button onclick="profile()" id="profile-btn" class="footer-btn">
          <span class="button-icon">
            <span class="material-symbols-outlined">
              account_circle
            </span>
          </span>
          <span class="button-text profileButton">
            Profile
          </span>
        </button>
      </div>
    </footer>

    <div class="card" id="viewAfterSeconds1" style="top: 27px">
      <div class="cancel-icon" onclick="closePop1()">
        <i class="fa fa-times-circle" style="right: 35px; top: 73px" aria-hidden="true"></i>
      </div>
      <div class="data">
        <div class="mb-4">
          <img src="images/Heart.png" class="w-30px" alt="Image 1" />
          <span class="infoLineOne">
            Bridge of Love is a mosaic of pictures connecting people &
            places</span>
        </div>
        <div class="mb-4">
          <img src="images/Upload.png" class="w-30px" alt="Image 1" />
          <span class="infoLineTwo">
            Upload your own picture & share it with others</span>
        </div>
        <div class="mb-4">
          <img src="images/Search.png" class="w-30px" alt="Image 1" />
          <span class="infoLineThree">
            Search Pictures & find your own images & explore pictures from
            other cities</span>
        </div>
        <!-- Add more data as needed -->
      </div>
    </div>
  </div>

  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/toaster.js"></script>
  <script src="js/common.js"></script>
  <script>
    $(document).ready(function () {
      var option = "";
      for (let i = 0; i < languagesArry.length; i++) {
        option +=
          `<option value='${languagesArry[i]?.code}' selected='${languagesArry[i]?.selected}'>
            ${languagesArry[i]?.name}
          </option>`;
      }
      $("#selectLanguageId").empty().append(option);
      $("#selectLanguageId").val(
        localStorage.getItem("storedLanguage")
          ? localStorage.getItem("storedLanguage")
          : "english"
      );
      changeLanguage();
      getLocations();

      setTimeout(() => {
        checkLocation()
      }, 20000);

      let userId = localStorage.getItem("userId");

      // if (userId == null) {
      //   document.getElementById("map-btn").disabled = true;
      // }

    });
    function myGreeting() {
      $("#viewAfterSeconds").fadeIn();
    }
    function myGreeting1() {
      $("#viewAfterSeconds1").fadeIn();
    }

    function aboutPage() {
      window.location.href = "aboutUs.html";
    }

    function checkLocation() {
      window.location.href = "checkLocation.html";
    }
    function map() {
      window.location.href = "viewMap.html";
    }
    function profile() {
      window.location.href = "profile.html";
    }

    function aboutUs() {
      window.location.href = "aboutUs.html";
    }

    function closePop() {
      $("#viewAfterSeconds").fadeOut();
    }
    function closePop1() {
      $("#viewAfterSeconds1").fadeOut();
    }

    function openProfile() {
      window.location.href = "profile.html";
    }

    function getLocations() {
      var url_string = window.location.href;
      var url = new URL(url_string);
      let mainUrl = '';
      if (url.searchParams.has("location")) {
        var location = url.searchParams.get("location");
        mainUrl = "https://2024api.icons4good.com/getCombinedData?locationid=" + location;
      } else {
        mainUrl = "https://2024api.icons4good.com/getCombinedData?locationname=" + url_string.split('?')[1];
      }

      $.ajax({
        url: mainUrl,
        async: false,
        type: "post",
        success: function (res) {
          if (res?.result !== null) {
            localStorage.setItem("storedData", JSON.stringify(res?.result[0]));
            $(".backCls").css(
              "background-image",
              "url(" + res?.result[0]?.bgimg + ")"
            );
          } else {
            // toastr["success"](res?.message);
          }
        },
        error: function (err) {
          console.log(err);
        },
      });
    }
  </script>
</body>

</html>